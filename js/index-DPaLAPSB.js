import{c as e,u as t,o as r,a as n,b as a,d as i,e as o,B as s,C as l,A as d,T as c,f as u,S as g,g as h,I as m,h as p,s as f,M as b,i as v,L as x,j as y,k as w,D as k,l as C,E as z,m as S,n as L,p as I,t as T,q as W,r as E,v as M,G as $,w as A,x as N,y as O,z as P}from"./vendor-CWcmDakS.js";import{M as R}from"./stamon-C9z7rcY9.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var j=T("<svg><path></svg>",!1,!0),B=T("<style id=prism-theme>");N.stamon={comment:{pattern:/\/\/.*/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0,inside:{escape:{pattern:/\\(?:\\|0|n|t|"|x[0-9a-fA-F]{2})/,alias:"constant"}}},keyword:[{pattern:/\b(if|else|while|for|in|return|break|continue|sfn)\b/,alias:"control"},{pattern:/\b(if|else)\b/,alias:"conditional"},{pattern:/\b(import)\b/,alias:"import"},{pattern:/\b(class|extends|def|func)\b/,alias:"other"}],constant:[{pattern:/\b(true|false|null|(what can i say)|(jvav)|(CLimber-Rong))\b/,alias:"language"},{pattern:/\b([0-9]+)\b/,alias:"numeric"},{pattern:/\b([0-9]+)(\.)([0-9]+)\b/,alias:"numeric"}],operator:[{pattern:/\b(new)\b/,alias:"word"},{pattern:/[(){}[\],;:.]/,alias:"punctuation"},{pattern:/=|\+=|-=|\/=|\*=|%=|&=|\^=|\|=|<<=|>>=/,alias:"assignment"},{pattern:/\+|-|\*|\/|%/,alias:"arithmetic"},{pattern:/\||&|\^|<<|>>|~/,alias:"bitwise"},{pattern:/\|\||&&|!/,alias:"logical"},{pattern:/==|!=|<|>|<=|>=/,alias:"comparison"}],variable:[{pattern:/\b[A-Za-z_][A-Za-z0-9_]*\b/,alias:"other"},{pattern:/\b(self)\b/,alias:"constant"}]},O.stamon={comments:{line:"//"},autoIndent:[([e],t)=>/[([{][^\n)\]}]*$/.test(t.slice(0,e)),([e,t],r)=>/\[]|\(\)|{}/.test(r[e-1]+r[t])],autoCloseTags([e,t,r],n){let a=/<(\w+)\b.*>/.exec(getLineBefore(n,e)+">");return a&&`</${a[1]}>`}};const _=e=>{const t=localStorage.getItem(e);return"true"===t||"false"!==t&&void 0},H=(e,t)=>{localStorage.setItem(e,t?"true":"false")},F=()=>{const[T,N]=e(""),[O,P]=e(""),[F,G]=e(0),q=t("(prefers-color-scheme: dark)"),[D,U]=e(_("darkMode")??q);r((()=>X(D())));const Z=n((()=>{const e=D()?"dark":"light",t=D()?{default:"#010409",paper:"#010409"}:void 0;return W({mode:e,background:t})})),K=a({palette:Z}),Q=()=>window.innerWidth<K.breakpoints.values.md,[J,V]=e(_("wordWrap")??Q()),X=e=>{const t=e?$:A;document.getElementById("prism-theme").textContent=t},Y=()=>{const e=!D();U(e),H("darkMode",e),X(e),he(null)},ee=()=>{V(!J()),H("wordWrap",J()),he(null)},te=()=>{const e=R.stringToNewUTF8(T()),t=document.createElement("textarea");t.id="result",t.style.display="none",document.body.appendChild(t),R._RunStamon(e),R._free(e),P(t.value),document.body.removeChild(t)},re=e=>o(s,L({get sx(){return{minHeight:0,minWidth:0,border:`2px solid ${K.palette.divider}`,borderRadius:2,overflow:"hidden"}}},e)),[ne,ae]=e(1),[ie,oe]=e(1),[se,le]=e(Q());let de;const ce=i((({down:e,delta:[t,r]})=>{const{width:n,height:a}={width:de.offsetWidth,height:de.offsetHeight},i=(se()?e?r:0:e?t:0)/(se()?a:n)*(ne()+ie()),o=Math.max(.1,ne()+i),s=Math.max(.1,ie()-i);ae(o),oe(s)})),ue=()=>le(Q());r((()=>window.addEventListener("resize",ue)));const[ge,he]=e(null),me=()=>Boolean(ge()),pe=()=>he(null);return o(I,{theme:K,get children(){return o(s,{sx:{display:"flex",flexDirection:"column",height:"100vh"},get children(){return[o(l,{}),o(d,{position:"sticky",color:"inherit",elevation:3,get children(){return o(c,{get children(){return[o(u,{variant:"h6",component:"div",sx:{flexGrow:1,cursor:"pointer",userSelect:"none"},onClick:()=>G(F()+1),get children(){return o(g,{get when(){return F()%3!=0||0==F()},fallback:"SNFQ!",children:"Stamon Playground"})}}),o(h,{color:"inherit",variant:"outlined",onClick:te,children:"Run"}),o(m,{get"aria-controls"(){return me()?"function-menu":void 0},get"aria-expanded"(){return me()?"true":void 0},"aria-haspopup":"true",sx:{marginLeft:2},onClick:e=>he(e.currentTarget),get children(){return o(p,{get children(){var e=j();return f(e,"d",E),e}})}}),o(b,{id:"function-menu",get anchorEl(){return ge()},get open(){return me()},onClose:pe,PaperProps:{sx:{overflow:"visible",marginTop:2,width:"150px"}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},get children(){return[o(v,{dense:!0,onClick:Y,get children(){return[o(x,{get children(){return o(y,{size:"small",sx:{padding:0},get checked(){return D()}})}}),o(w,{children:"深色主题"})]}}),o(v,{dense:!0,onClick:ee,get children(){return[o(x,{get children(){return o(y,{size:"small",sx:{padding:0},get checked(){return J()}})}}),o(w,{children:"自动换行"})]}}),o(k,{}),o(v,{dense:!0,component:C,href:"https://github.com/CLimber-Rong/stamon",target:"_blank",get children(){return[o(x,{get children(){return o(p,{get children(){var e=j();return f(e,"d",M),e}})}}),o(w,{children:"Github"})]}})]}})]}})}}),o(s,{ref(e){"function"==typeof de?de(e):de=e},get sx(){return{display:"grid",margin:2,height:"100%",minWidth:0,minHeight:0,gridTemplateColumns:{xs:"1fr",md:`${ne()}fr 16px ${ie()}fr`},gridTemplateRows:{xs:`${ne()}fr 16px ${ie()}fr`,md:"auto"}}},get children(){return[B(),o(re,{get children(){return o(z,{language:"stamon",tabSize:4,extensions:S,onUpdate:N,value:'// Stamon example\nimport std;\nprint("Hello world!");\n',get wordWrap(){return J()},style:{height:"100%"}})}}),o(s,L({sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:{xs:"row-resize",md:"col-resize"},userSelect:"none",touchAction:"none"}},ce,{get children(){return o(u,{variant:"button",sx:{transform:{xs:"rotate(90deg)",md:"rotate(0deg)"}},children:"⣿"})}})),o(re,{get children(){return o(z,{readOnly:!0,get value(){return O()},lineNumbers:!1,get wordWrap(){return J()},extensions:[],style:{height:"100%"}})}})]}})]}})}})};P((()=>o(F,{})),document.getElementById("root"));
